ℹ️ [Performance] Performance: matrixMultiply took 0.852ms  - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: matrixMultiply took 0.853ms  - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: matrixMultiply took 0.671ms  - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: matrixMultiply took 0.670ms  - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: matrixMultiply took 0.342ms  - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: matrixMultiply took 0.343ms  - logPerformance(_:duration:metadata:) @ Logger.swift:190
Test Case '-[VectorAccelerateTests.MatrixEngineTests testMemoryIntensiveOperations]' passed (0.016 seconds).
Test Case '-[VectorAccelerateTests.MatrixEngineTests testOperationPerformanceComparison]' started.
⚠️ Failed to precompile legacy matrix shaders: VectorError.operationFailed: Shader compilation failed: Failed to load default library [at VectorAccelerate/MetalDevice.swift:321 in getDefaultLibrary()] - precompileShaders() @ MatrixEngine.swift:113
⚠️ Failed to precompile legacy matrix shaders: VectorError.operationFailed: Shader compilation failed: Failed to load default library [at VectorAccelerate/MetalDevice.swift:321 in getDefaultLibrary()] - precompileShaders() @ MatrixEngine.swift:113
⚠️ Failed to precompile legacy matrix shaders: VectorError.operationFailed: Shader compilation failed: Failed to load default library [at VectorAccelerate/MetalDevice.swift:321 in getDefaultLibrary()] - precompileShaders() @ MatrixEngine.swift:113
GPU transpose time: 0.0004680156707763672s
CPU transpose time: 1.800060272216797e-05s
ℹ️ [Performance] Performance: matrixTranspose took 0.465ms  - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: matrixTranspose took 0.466ms  - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: matrixTranspose took 0.015ms  - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: matrixTranspose took 0.016ms  - logPerformance(_:duration:metadata:) @ Logger.swift:190
Test Case '-[VectorAccelerateTests.MatrixEngineTests testOperationPerformanceComparison]' passed (0.005 seconds).
Test Case '-[VectorAccelerateTests.MatrixEngineTests testPerformanceMetricsTracking]' started.
⚠️ Failed to precompile legacy matrix shaders: VectorError.operationFailed: Shader compilation failed: Failed to load default library [at VectorAccelerate/MetalDevice.swift:321 in getDefaultLibrary()] - precompileShaders() @ MatrixEngine.swift:113
ℹ️ [Performance] Performance: matrixMultiply took 0.004ms  - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: matrixMultiply took 0.006ms  - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: matrixTranspose took 0.001ms  - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: matrixTranspose took 0.002ms  - logPerformance(_:duration:metadata:) @ Logger.swift:190
Test Case '-[VectorAccelerateTests.MatrixEngineTests testPerformanceMetricsTracking]' passed (0.002 seconds).
Test Case '-[VectorAccelerateTests.MatrixEngineTests testSmallMatrixMultiplication]' started.
⚠️ Failed to precompile legacy matrix shaders: VectorError.operationFailed: Shader compilation failed: Failed to load default library [at VectorAccelerate/MetalDevice.swift:321 in getDefaultLibrary()] - precompileShaders() @ MatrixEngine.swift:113
⚠️ Failed to precompile legacy matrix shaders: VectorError.operationFailed: Shader compilation failed: Failed to load default library [at VectorAccelerate/MetalDevice.swift:321 in getDefaultLibrary()] - precompileShaders() @ MatrixEngine.swift:113
ℹ️ [Performance] Performance: matrixMultiply took 0.002ms  - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: matrixMultiply took 0.008ms  - logPerformance(_:duration:metadata:) @ Logger.swift:190
Test Case '-[VectorAccelerateTests.MatrixEngineTests testSmallMatrixMultiplication]' passed (0.002 seconds).
Test Case '-[VectorAccelerateTests.MatrixEngineTests testSmallMatrixTranspose]' started.
⚠️ Failed to precompile legacy matrix shaders: VectorError.operationFailed: Shader compilation failed: Failed to load default library [at VectorAccelerate/MetalDevice.swift:321 in getDefaultLibrary()] - precompileShaders() @ MatrixEngine.swift:113
⚠️ Failed to precompile legacy matrix shaders: VectorError.operationFailed: Shader compilation failed: Failed to load default library [at VectorAccelerate/MetalDevice.swift:321 in getDefaultLibrary()] - precompileShaders() @ MatrixEngine.swift:113
ℹ️ [Performance] Performance: matrixTranspose took 0.002ms  - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: matrixTranspose took 0.004ms  - logPerformance(_:duration:metadata:) @ Logger.swift:190
Test Case '-[VectorAccelerateTests.MatrixEngineTests testSmallMatrixTranspose]' passed (0.001 seconds).
Test Case '-[VectorAccelerateTests.MatrixEngineTests testSquareMatrixTranspose]' started.
⚠️ Failed to precompile legacy matrix shaders: VectorError.operationFailed: Shader compilation failed: Failed to load default library [at VectorAccelerate/MetalDevice.swift:321 in getDefaultLibrary()] - precompileShaders() @ MatrixEngine.swift:113
ℹ️ [Performance] Performance: matrixTranspose took 0.002ms  - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: matrixTranspose took 0.005ms  - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: matrixTranspose took 0.001ms  - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: matrixTranspose took 0.003ms  - logPerformance(_:duration:metadata:) @ Logger.swift:190
Test Case '-[VectorAccelerateTests.MatrixEngineTests testSquareMatrixTranspose]' passed (0.006 seconds).
Test Case '-[VectorAccelerateTests.MatrixEngineTests testTransposeMultiplicationProperty]' started.
⚠️ Failed to precompile legacy matrix shaders: VectorError.operationFailed: Shader compilation failed: Failed to load default library [at VectorAccelerate/MetalDevice.swift:321 in getDefaultLibrary()] - precompileShaders() @ MatrixEngine.swift:113
ℹ️ [Performance] Performance: matrixMultiply took 0.004ms  - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: matrixMultiply took 0.006ms  - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: matrixTranspose took 0.000ms  - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: matrixTranspose took 0.001ms  - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: matrixTranspose took 0.001ms  - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: matrixTranspose took 0.002ms  - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: matrixTranspose took 0.001ms  - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: matrixTranspose took 0.001ms  - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: matrixMultiply took 0.001ms  - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: matrixMultiply took 0.001ms  - logPerformance(_:duration:metadata:) @ Logger.swift:190
Test Case '-[VectorAccelerateTests.MatrixEngineTests testTransposeMultiplicationProperty]' passed (0.001 seconds).
Test Case '-[VectorAccelerateTests.MatrixEngineTests testTransposeOfIdentityMatrix]' started.
⚠️ Failed to precompile legacy matrix shaders: VectorError.operationFailed: Shader compilation failed: Failed to load default library [at VectorAccelerate/MetalDevice.swift:321 in getDefaultLibrary()] - precompileShaders() @ MatrixEngine.swift:113
ℹ️ [Performance] Performance: matrixTranspose took 0.005ms  - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: matrixTranspose took 0.002ms  - logPerformance(_:duration:metadata:) @ Logger.swift:190
Test Case '-[VectorAccelerateTests.MatrixEngineTests testTransposeOfIdentityMatrix]' passed (0.005 seconds).
Test Case '-[VectorAccelerateTests.MatrixEngineTests testVerySmallMatrix]' started.
⚠️ Failed to precompile legacy matrix shaders: VectorError.operationFailed: Shader compilation failed: Failed to load default library [at VectorAccelerate/MetalDevice.swift:321 in getDefaultLibrary()] - precompileShaders() @ MatrixEngine.swift:113
ℹ️ [Performance] Performance: matrixTranspose took 0.002ms  - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: matrixTranspose took 0.004ms  - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: matrixMultiply took 0.008ms  - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: matrixMultiply took 0.010ms  - logPerformance(_:duration:metadata:) @ Logger.swift:190
Test Case '-[VectorAccelerateTests.MatrixEngineTests testVerySmallMatrix]' passed (0.102 seconds).
Test Suite 'MatrixEngineTests' passed at 2025-12-17 15:01:08.623.
	 Executed 37 tests, with 0 failures (0 unexpected) in 0.275 (0.282) seconds
Test Suite 'MatrixMultiplyKernelTests' started at 2025-12-17 15:01:08.623.
Test Case '-[VectorAccelerateTests.MatrixMultiplyKernelTests testBasicMultiplication]' started.
Test Case '-[VectorAccelerateTests.MatrixMultiplyKernelTests testBasicMultiplication]' passed (0.006 seconds).
Test Case '-[VectorAccelerateTests.MatrixMultiplyKernelTests testBatchMultiplication]' started.
Test Case '-[VectorAccelerateTests.MatrixMultiplyKernelTests testBatchMultiplication]' passed (0.012 seconds).
Test Case '-[VectorAccelerateTests.MatrixMultiplyKernelTests testGEMM]' started.
Test Case '-[VectorAccelerateTests.MatrixMultiplyKernelTests testGEMM]' passed (0.003 seconds).
Test Case '-[VectorAccelerateTests.MatrixMultiplyKernelTests testLargerMatrixMultiplication]' started.
Test Case '-[VectorAccelerateTests.MatrixMultiplyKernelTests testLargerMatrixMultiplication]' passed (0.019 seconds).
Test Case '-[VectorAccelerateTests.MatrixMultiplyKernelTests testSquareMatrixMultiplication]' started.
Test Case '-[VectorAccelerateTests.MatrixMultiplyKernelTests testSquareMatrixMultiplication]' passed (0.005 seconds).
Test Suite 'MatrixMultiplyKernelTests' passed at 2025-12-17 15:01:08.668.
	 Executed 5 tests, with 0 failures (0 unexpected) in 0.044 (0.045) seconds
Test Suite 'MatrixTransposeKernelTests' started at 2025-12-17 15:01:08.668.
Test Case '-[VectorAccelerateTests.MatrixTransposeKernelTests testBasicTranspose]' started.
Test Case '-[VectorAccelerateTests.MatrixTransposeKernelTests testBasicTranspose]' passed (0.002 seconds).
Test Case '-[VectorAccelerateTests.MatrixTransposeKernelTests testBatchTranspose]' started.
Test Case '-[VectorAccelerateTests.MatrixTransposeKernelTests testBatchTranspose]' passed (0.006 seconds).
Test Case '-[VectorAccelerateTests.MatrixTransposeKernelTests testDoubleTranspose]' started.
Test Case '-[VectorAccelerateTests.MatrixTransposeKernelTests testDoubleTranspose]' passed (0.005 seconds).
Test Case '-[VectorAccelerateTests.MatrixTransposeKernelTests testLargerTranspose]' started.
Test Case '-[VectorAccelerateTests.MatrixTransposeKernelTests testLargerTranspose]' passed (0.017 seconds).
Test Case '-[VectorAccelerateTests.MatrixTransposeKernelTests testSquareTranspose]' started.
Test Case '-[VectorAccelerateTests.MatrixTransposeKernelTests testSquareTranspose]' passed (0.003 seconds).
Test Case '-[VectorAccelerateTests.MatrixTransposeKernelTests testValidation]' started.
Test Case '-[VectorAccelerateTests.MatrixTransposeKernelTests testValidation]' passed (0.004 seconds).
Test Suite 'MatrixTransposeKernelTests' passed at 2025-12-17 15:01:08.706.
	 Executed 6 tests, with 0 failures (0 unexpected) in 0.037 (0.038) seconds
Test Suite 'MatrixVectorKernelTests' started at 2025-12-17 15:01:08.707.
Test Case '-[VectorAccelerateTests.MatrixVectorKernelTests testBasicMultiplication]' started.
Test Case '-[VectorAccelerateTests.MatrixVectorKernelTests testBasicMultiplication]' passed (0.007 seconds).
Test Case '-[VectorAccelerateTests.MatrixVectorKernelTests testBatchMultiplication]' started.
Test Case '-[VectorAccelerateTests.MatrixVectorKernelTests testBatchMultiplication]' passed (0.004 seconds).
Test Case '-[VectorAccelerateTests.MatrixVectorKernelTests testLargerMultiplication]' started.
Test Case '-[VectorAccelerateTests.MatrixVectorKernelTests testLargerMultiplication]' passed (0.013 seconds).
Test Case '-[VectorAccelerateTests.MatrixVectorKernelTests testPowerIteration]' started.
Test Case '-[VectorAccelerateTests.MatrixVectorKernelTests testPowerIteration]' passed (0.002 seconds).
Test Suite 'MatrixVectorKernelTests' passed at 2025-12-17 15:01:08.733.
	 Executed 4 tests, with 0 failures (0 unexpected) in 0.026 (0.026) seconds
Test Suite 'MemoryMapManagerTests' started at 2025-12-17 15:01:08.733.
Test Case '-[VectorAccelerateTests.MemoryMapManagerTests testCacheStatistics]' started.
ℹ️ [MemoryMap] Mapped dataset: 100 vectors of dimension 2 - mapDataset(at:) @ MemoryMapManager.swift:143
ℹ️ [Performance] Performance: memoryMappedRead took 0.059ms count=10 - logPerformance(_:duration:metadata:) @ Logger.swift:190
⚠️ [MemoryMap] Prefetch failed for page 1: VectorError.invalidData: Invalid data format: Failed to read page 1 [at VectorAccelerate/MemoryMapManager.swift:239 in loadPage(_:from:)] - prefetchPage(_:from:) @ MemoryMapManager.swift:292
⚠️ [MemoryMap] Prefetch failed for page 2: VectorError.invalidData: Invalid data format: Failed to read page 2 [at VectorAccelerate/MemoryMapManager.swift:239 in loadPage(_:from:)] - prefetchPage(_:from:) @ MemoryMapManager.swift:292
ℹ️ [Performance] Performance: memoryMappedRead took 0.063ms count=10 - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: memoryMappedRead took 0.024ms count=10 - logPerformance(_:duration:metadata:) @ Logger.swift:190
⚠️ [MemoryMap] Prefetch failed for page 1: VectorError.invalidData: Invalid data format: Failed to read page 1 [at VectorAccelerate/MemoryMapManager.swift:239 in loadPage(_:from:)] - prefetchPage(_:from:) @ MemoryMapManager.swift:292
⚠️ [MemoryMap] Prefetch failed for page 2: VectorError.invalidData: Invalid data format: Failed to read page 2 [at VectorAccelerate/MemoryMapManager.swift:239 in loadPage(_:from:)] - prefetchPage(_:from:) @ MemoryMapManager.swift:292
ℹ️ [Performance] Performance: memoryMappedRead took 0.026ms count=10 - logPerformance(_:duration:metadata:) @ Logger.swift:190
Test Case '-[VectorAccelerateTests.MemoryMapManagerTests testCacheStatistics]' passed (0.002 seconds).
Test Case '-[VectorAccelerateTests.MemoryMapManagerTests testClearCache]' started.
ℹ️ [MemoryMap] Mapped dataset: 2 vectors of dimension 2 - mapDataset(at:) @ MemoryMapManager.swift:143
ℹ️ [Performance] Performance: memoryMappedRead took 0.026ms count=2 - logPerformance(_:duration:metadata:) @ Logger.swift:190
⚠️ [MemoryMap] Prefetch failed for page 1: VectorError.invalidData: Invalid data format: Failed to read page 1 [at VectorAccelerate/MemoryMapManager.swift:239 in loadPage(_:from:)] - prefetchPage(_:from:) @ MemoryMapManager.swift:292
⚠️ [MemoryMap] Prefetch failed for page 2: VectorError.invalidData: Invalid data format: Failed to read page 2 [at VectorAccelerate/MemoryMapManager.swift:239 in loadPage(_:from:)] - prefetchPage(_:from:) @ MemoryMapManager.swift:292
ℹ️ [MemoryMap] Cache cleared - clearCache() @ MemoryMapManager.swift:473
ℹ️ [Performance] Performance: memoryMappedRead took 0.028ms count=2 - logPerformance(_:duration:metadata:) @ Logger.swift:190
Test Case '-[VectorAccelerateTests.MemoryMapManagerTests testClearCache]' passed (0.002 seconds).
Test Case '-[VectorAccelerateTests.MemoryMapManagerTests testCloseDataset]' started.
ℹ️ [MemoryMap] Mapped dataset: 2 vectors of dimension 2 - mapDataset(at:) @ MemoryMapManager.swift:143
ℹ️ [Performance] Performance: memoryMappedRead took 0.018ms count=2 - logPerformance(_:duration:metadata:) @ Logger.swift:190
⚠️ [MemoryMap] Prefetch failed for page 1: VectorError.invalidData: Invalid data format: Failed to read page 1 [at VectorAccelerate/MemoryMapManager.swift:239 in loadPage(_:from:)] - prefetchPage(_:from:) @ MemoryMapManager.swift:292
⚠️ [MemoryMap] Prefetch failed for page 2: VectorError.invalidData: Invalid data format: Failed to read page 2 [at VectorAccelerate/MemoryMapManager.swift:239 in loadPage(_:from:)] - prefetchPage(_:from:) @ MemoryMapManager.swift:292
ℹ️ [Performance] Performance: memoryMappedRead took 0.020ms count=2 - logPerformance(_:duration:metadata:) @ Logger.swift:190
Test Case '-[VectorAccelerateTests.MemoryMapManagerTests testCloseDataset]' passed (0.001 seconds).
Test Case '-[VectorAccelerateTests.MemoryMapManagerTests testComputeDistancesCosine]' started.
ℹ️ [MemoryMap] Mapped dataset: 4 vectors of dimension 2 - mapDataset(at:) @ MemoryMapManager.swift:143
ℹ️ [Performance] Performance: memoryMappedRead took 0.016ms count=4 - logPerformance(_:duration:metadata:) @ Logger.swift:190
⚠️ [MemoryMap] Prefetch failed for page 1: VectorError.invalidData: Invalid data format: Failed to read page 1 [at VectorAccelerate/MemoryMapManager.swift:239 in loadPage(_:from:)] - prefetchPage(_:from:) @ MemoryMapManager.swift:292
⚠️ [MemoryMap] Prefetch failed for page 2: VectorError.invalidData: Invalid data format: Failed to read page 2 [at VectorAccelerate/MemoryMapManager.swift:239 in loadPage(_:from:)] - prefetchPage(_:from:) @ MemoryMapManager.swift:292
ℹ️ [Performance] Performance: memoryMappedRead took 0.018ms count=4 - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: memoryMappedDistance took 0.044ms  - logPerformance(_:duration:metadata:) @ Logger.swift:190
Test Case '-[VectorAccelerateTests.MemoryMapManagerTests testComputeDistancesCosine]' passed (0.002 seconds).
ℹ️ [Performance] Performance: memoryMappedDistance took 0.046ms  - logPerformance(_:duration:metadata:) @ Logger.swift:190
Test Case '-[VectorAccelerateTests.MemoryMapManagerTests testComputeDistancesEuclidean]' started.
ℹ️ [MemoryMap] Mapped dataset: 4 vectors of dimension 3 - mapDataset(at:) @ MemoryMapManager.swift:143
ℹ️ [Performance] Performance: memoryMappedRead took 0.017ms count=4 - logPerformance(_:duration:metadata:) @ Logger.swift:190
⚠️ [MemoryMap] Prefetch failed for page 1: VectorError.invalidData: Invalid data format: Failed to read page 1 [at VectorAccelerate/MemoryMapManager.swift:239 in loadPage(_:from:)] - prefetchPage(_:from:) @ MemoryMapManager.swift:292
⚠️ [MemoryMap] Prefetch failed for page 2: VectorError.invalidData: Invalid data format: Failed to read page 2 [at VectorAccelerate/MemoryMapManager.swift:239 in loadPage(_:from:)] - prefetchPage(_:from:) @ MemoryMapManager.swift:292
ℹ️ [Performance] Performance: memoryMappedRead took 0.020ms count=4 - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: memoryMappedDistance took 0.031ms  - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: memoryMappedDistance took 0.032ms  - logPerformance(_:duration:metadata:) @ Logger.swift:190
Test Case '-[VectorAccelerateTests.MemoryMapManagerTests testComputeDistancesEuclidean]' passed (0.001 seconds).
Test Case '-[VectorAccelerateTests.MemoryMapManagerTests testComputeDistancesManhattan]' started.
ℹ️ [MemoryMap] Mapped dataset: 3 vectors of dimension 2 - mapDataset(at:) @ MemoryMapManager.swift:143
ℹ️ [Performance] Performance: memoryMappedRead took 0.019ms count=3 - logPerformance(_:duration:metadata:) @ Logger.swift:190
⚠️ [MemoryMap] Prefetch failed for page 1: VectorError.invalidData: Invalid data format: Failed to read page 1 [at VectorAccelerate/MemoryMapManager.swift:239 in loadPage(_:from:)] - prefetchPage(_:from:) @ MemoryMapManager.swift:292
⚠️ [MemoryMap] Prefetch failed for page 2: VectorError.invalidData: Invalid data format: Failed to read page 2 [at VectorAccelerate/MemoryMapManager.swift:239 in loadPage(_:from:)] - prefetchPage(_:from:) @ MemoryMapManager.swift:292
ℹ️ [Performance] Performance: memoryMappedRead took 0.021ms count=3 - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: memoryMappedDistance took 0.029ms  - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: memoryMappedDistance took 0.030ms  - logPerformance(_:duration:metadata:) @ Logger.swift:190
Test Case '-[VectorAccelerateTests.MemoryMapManagerTests testComputeDistancesManhattan]' passed (0.002 seconds).
Test Case '-[VectorAccelerateTests.MemoryMapManagerTests testCreateDatasetFile]' started.
Test Case '-[VectorAccelerateTests.MemoryMapManagerTests testCreateDatasetFile]' passed (0.002 seconds).
Test Case '-[VectorAccelerateTests.MemoryMapManagerTests testCreateDatasetWithFloat16]' started.
Test Case '-[VectorAccelerateTests.MemoryMapManagerTests testCreateDatasetWithFloat16]' passed (0.001 seconds).
Test Case '-[VectorAccelerateTests.MemoryMapManagerTests testCreateDatasetWithInt8]' started.
Test Case '-[VectorAccelerateTests.MemoryMapManagerTests testCreateDatasetWithInt8]' passed (0.001 seconds).
Test Case '-[VectorAccelerateTests.MemoryMapManagerTests testDataTypeByteSizes]' started.
Test Case '-[VectorAccelerateTests.MemoryMapManagerTests testDataTypeByteSizes]' passed (0.001 seconds).
Test Case '-[VectorAccelerateTests.MemoryMapManagerTests testDefaultConfiguration]' started.
Test Case '-[VectorAccelerateTests.MemoryMapManagerTests testDefaultConfiguration]' passed (0.104 seconds).
Test Case '-[VectorAccelerateTests.MemoryMapManagerTests testLargeDatasetConfiguration]' started.
Test Case '-[VectorAccelerateTests.MemoryMapManagerTests testLargeDatasetConfiguration]' passed (0.001 seconds).
Test Case '-[VectorAccelerateTests.MemoryMapManagerTests testMapDataset]' started.
ℹ️ [MemoryMap] Mapped dataset: 100 vectors of dimension 3 - mapDataset(at:) @ MemoryMapManager.swift:143
Test Case '-[VectorAccelerateTests.MemoryMapManagerTests testMapDataset]' passed (0.002 seconds).
Test Case '-[VectorAccelerateTests.MemoryMapManagerTests testMapNonExistentFile]' started.
Test Case '-[VectorAccelerateTests.MemoryMapManagerTests testMapNonExistentFile]' passed (0.001 seconds).
Test Case '-[VectorAccelerateTests.MemoryMapManagerTests testReadAllVectors]' started.
ℹ️ [MemoryMap] Mapped dataset: 3 vectors of dimension 3 - mapDataset(at:) @ MemoryMapManager.swift:143
ℹ️ [Performance] Performance: memoryMappedRead took 0.023ms count=3 - logPerformance(_:duration:metadata:) @ Logger.swift:190
⚠️ [MemoryMap] Prefetch failed for page 1: VectorError.invalidData: Invalid data format: Failed to read page 1 [at VectorAccelerate/MemoryMapManager.swift:239 in loadPage(_:from:)] - prefetchPage(_:from:) @ MemoryMapManager.swift:292
⚠️ [MemoryMap] Prefetch failed for page 2: VectorError.invalidData: Invalid data format: Failed to read page 2 [at VectorAccelerate/MemoryMapManager.swift:239 in loadPage(_:from:)] - prefetchPage(_:from:) @ MemoryMapManager.swift:292
ℹ️ [Performance] Performance: memoryMappedRead took 0.026ms count=3 - logPerformance(_:duration:metadata:) @ Logger.swift:190
Test Case '-[VectorAccelerateTests.MemoryMapManagerTests testReadAllVectors]' passed (0.001 seconds).
Test Case '-[VectorAccelerateTests.MemoryMapManagerTests testReadVectors]' started.
ℹ️ [MemoryMap] Mapped dataset: 10 vectors of dimension 3 - mapDataset(at:) @ MemoryMapManager.swift:143
ℹ️ [Performance] Performance: memoryMappedRead took 0.022ms count=3 - logPerformance(_:duration:metadata:) @ Logger.swift:190
⚠️ [MemoryMap] Prefetch failed for page 1: VectorError.invalidData: Invalid data format: Failed to read page 1 [at VectorAccelerate/MemoryMapManager.swift:239 in loadPage(_:from:)] - prefetchPage(_:from:) @ MemoryMapManager.swift:292
⚠️ [MemoryMap] Prefetch failed for page 2: VectorError.invalidData: Invalid data format: Failed to read page 2 [at VectorAccelerate/MemoryMapManager.swift:239 in loadPage(_:from:)] - prefetchPage(_:from:) @ MemoryMapManager.swift:292
ℹ️ [Performance] Performance: memoryMappedRead took 0.024ms count=3 - logPerformance(_:duration:metadata:) @ Logger.swift:190
Test Case '-[VectorAccelerateTests.MemoryMapManagerTests testReadVectors]' passed (0.002 seconds).
Test Case '-[VectorAccelerateTests.MemoryMapManagerTests testStreamProcessing]' started.
ℹ️ [MemoryMap] Mapped dataset: 100 vectors of dimension 3 - mapDataset(at:) @ MemoryMapManager.swift:143
ℹ️ [Performance] Performance: memoryMappedRead took 0.032ms count=10 - logPerformance(_:duration:metadata:) @ Logger.swift:190
⚠️ [MemoryMap] Prefetch failed for page 1: VectorError.invalidData: Invalid data format: Failed to read page 1 [at VectorAccelerate/MemoryMapManager.swift:239 in loadPage(_:from:)] - prefetchPage(_:from:) @ MemoryMapManager.swift:292
⚠️ [MemoryMap] Prefetch failed for page 2: VectorError.invalidData: Invalid data format: Failed to read page 2 [at VectorAccelerate/MemoryMapManager.swift:239 in loadPage(_:from:)] - prefetchPage(_:from:) @ MemoryMapManager.swift:292
ℹ️ [Performance] Performance: memoryMappedRead took 0.034ms count=10 - logPerformance(_:duration:metadata:) @ Logger.swift:190
⚠️ [MemoryMap] Prefetch failed for page 1: VectorError.invalidData: Invalid data format: Failed to read page 1 [at VectorAccelerate/MemoryMapManager.swift:239 in loadPage(_:from:)] - prefetchPage(_:from:) @ MemoryMapManager.swift:292
ℹ️ [Performance] Performance: memoryMappedRead took 0.015ms count=10 - logPerformance(_:duration:metadata:) @ Logger.swift:190
⚠️ [MemoryMap] Prefetch failed for page 2: VectorError.invalidData: Invalid data format: Failed to read page 2 [at VectorAccelerate/MemoryMapManager.swift:239 in loadPage(_:from:)] - prefetchPage(_:from:) @ MemoryMapManager.swift:292
ℹ️ [Performance] Performance: memoryMappedRead took 0.017ms count=10 - logPerformance(_:duration:metadata:) @ Logger.swift:190
⚠️ [MemoryMap] Prefetch failed for page 1: VectorError.invalidData: Invalid data format: Failed to read page 1 [at VectorAccelerate/MemoryMapManager.swift:239 in loadPage(_:from:)] - prefetchPage(_:from:) @ MemoryMapManager.swift:292
ℹ️ [Performance] Performance: memoryMappedRead took 0.016ms count=10 - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: memoryMappedRead took 0.017ms count=10 - logPerformance(_:duration:metadata:) @ Logger.swift:190
⚠️ [MemoryMap] Prefetch failed for page 2: VectorError.invalidData: Invalid data format: Failed to read page 2 [at VectorAccelerate/MemoryMapManager.swift:239 in loadPage(_:from:)] - prefetchPage(_:from:) @ MemoryMapManager.swift:292
ℹ️ [Performance] Performance: memoryMappedRead took 0.013ms count=10 - logPerformance(_:duration:metadata:) @ Logger.swift:190
⚠️ [MemoryMap] Prefetch failed for page 1: VectorError.invalidData: Invalid data format: Failed to read page 1 [at VectorAccelerate/MemoryMapManager.swift:239 in loadPage(_:from:)] - prefetchPage(_:from:) @ MemoryMapManager.swift:292
ℹ️ [Performance] Performance: memoryMappedRead took 0.015ms count=10 - logPerformance(_:duration:metadata:) @ Logger.swift:190
⚠️ [MemoryMap] Prefetch failed for page 1: VectorError.invalidData: Invalid data format: Failed to read page 1 [at VectorAccelerate/MemoryMapManager.swift:239 in loadPage(_:from:)] - prefetchPage(_:from:) @ MemoryMapManager.swift:292
⚠️ [MemoryMap] Prefetch failed for page 2: VectorError.invalidData: Invalid data format: Failed to read page 2 [at VectorAccelerate/MemoryMapManager.swift:239 in loadPage(_:from:)] - prefetchPage(_:from:) @ MemoryMapManager.swift:292
ℹ️ [Performance] Performance: memoryMappedRead took 0.018ms count=10 - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: memoryMappedRead took 0.019ms count=10 - logPerformance(_:duration:metadata:) @ Logger.swift:190
⚠️ [MemoryMap] Prefetch failed for page 1: VectorError.invalidData: Invalid data format: Failed to read page 1 [at VectorAccelerate/MemoryMapManager.swift:239 in loadPage(_:from:)] - prefetchPage(_:from:) @ MemoryMapManager.swift:292
ℹ️ [Performance] Performance: memoryMappedRead took 0.013ms count=10 - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: memoryMappedRead took 0.014ms count=10 - logPerformance(_:duration:metadata:) @ Logger.swift:190
⚠️ [MemoryMap] Prefetch failed for page 1: VectorError.invalidData: Invalid data format: Failed to read page 1 [at VectorAccelerate/MemoryMapManager.swift:239 in loadPage(_:from:)] - prefetchPage(_:from:) @ MemoryMapManager.swift:292
⚠️ [MemoryMap] Prefetch failed for page 2: VectorError.invalidData: Invalid data format: Failed to read page 2 [at VectorAccelerate/MemoryMapManager.swift:239 in loadPage(_:from:)] - prefetchPage(_:from:) @ MemoryMapManager.swift:292
ℹ️ [Performance] Performance: memoryMappedRead took 0.017ms count=10 - logPerformance(_:duration:metadata:) @ Logger.swift:190
⚠️ [MemoryMap] Prefetch failed for page 1: VectorError.invalidData: Invalid data format: Failed to read page 1 [at VectorAccelerate/MemoryMapManager.swift:239 in loadPage(_:from:)] - prefetchPage(_:from:) @ MemoryMapManager.swift:292
ℹ️ [Performance] Performance: memoryMappedRead took 0.019ms count=10 - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: memoryMappedRead took 0.022ms count=10 - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: memoryMappedRead took 0.025ms count=10 - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: memoryMappedRead took 0.016ms count=10 - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: memoryMappedRead took 0.018ms count=10 - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: memoryMappedRead took 0.013ms count=10 - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: memoryMappedRead took 0.014ms count=10 - logPerformance(_:duration:metadata:) @ Logger.swift:190
Test Case '-[VectorAccelerateTests.MemoryMapManagerTests testStreamProcessing]' passed (0.003 seconds).
Test Case '-[VectorAccelerateTests.MemoryMapManagerTests testUInt8Normalization]' started.
ℹ️ [MemoryMap] Mapped dataset: 2 vectors of dimension 3 - mapDataset(at:) @ MemoryMapManager.swift:143
ℹ️ [Performance] Performance: memoryMappedRead took 0.022ms count=2 - logPerformance(_:duration:metadata:) @ Logger.swift:190
⚠️ [MemoryMap] Prefetch failed for page 1: VectorError.invalidData: Invalid data format: Failed to read page 1 [at VectorAccelerate/MemoryMapManager.swift:239 in loadPage(_:from:)] - prefetchPage(_:from:) @ MemoryMapManager.swift:292
⚠️ [MemoryMap] Prefetch failed for page 2: VectorError.invalidData: Invalid data format: Failed to read page 2 [at VectorAccelerate/MemoryMapManager.swift:239 in loadPage(_:from:)] - prefetchPage(_:from:) @ MemoryMapManager.swift:292
ℹ️ [Performance] Performance: memoryMappedRead took 0.024ms count=2 - logPerformance(_:duration:metadata:) @ Logger.swift:190
Test Case '-[VectorAccelerateTests.MemoryMapManagerTests testUInt8Normalization]' passed (0.002 seconds).
Test Suite 'MemoryMapManagerTests' passed at 2025-12-17 15:01:08.870.
	 Executed 18 tests, with 0 failures (0 unexpected) in 0.131 (0.137) seconds
Test Suite 'Metal4CompilerConfigurationTests' started at 2025-12-17 15:01:08.870.
Test Case '-[VectorAccelerateTests.Metal4CompilerConfigurationTests testBatchConfiguration]' started.
Test Case '-[VectorAccelerateTests.Metal4CompilerConfigurationTests testBatchConfiguration]' passed (0.000 seconds).
Test Case '-[VectorAccelerateTests.Metal4CompilerConfigurationTests testCustomConfiguration]' started.
Test Case '-[VectorAccelerateTests.Metal4CompilerConfigurationTests testCustomConfiguration]' passed (0.000 seconds).
Test Case '-[VectorAccelerateTests.Metal4CompilerConfigurationTests testDefaultConfiguration]' started.
Test Case '-[VectorAccelerateTests.Metal4CompilerConfigurationTests testDefaultConfiguration]' passed (0.000 seconds).
Test Case '-[VectorAccelerateTests.Metal4CompilerConfigurationTests testRealTimeConfiguration]' started.
Test Case '-[VectorAccelerateTests.Metal4CompilerConfigurationTests testRealTimeConfiguration]' passed (0.000 seconds).
Test Suite 'Metal4CompilerConfigurationTests' passed at 2025-12-17 15:01:08.872.
	 Executed 4 tests, with 0 failures (0 unexpected) in 0.002 (0.002) seconds
Test Suite 'Metal4DistanceTopKFusionTests' started at 2025-12-17 15:01:08.872.
Test Case '-[VectorAccelerateTests.Metal4DistanceTopKFusionTests testCosineSimilarityTopKFusion]' started.
Test Case '-[VectorAccelerateTests.Metal4DistanceTopKFusionTests testCosineSimilarityTopKFusion]' passed (0.006 seconds).
Test Case '-[VectorAccelerateTests.Metal4DistanceTopKFusionTests testL2DistanceTopKFusion]' started.
Test Case '-[VectorAccelerateTests.Metal4DistanceTopKFusionTests testL2DistanceTopKFusion]' passed (0.005 seconds).
Test Suite 'Metal4DistanceTopKFusionTests' passed at 2025-12-17 15:01:08.884.
	 Executed 2 tests, with 0 failures (0 unexpected) in 0.011 (0.011) seconds
Test Suite 'Metal4KernelFusionTests' started at 2025-12-17 15:01:08.884.
Test Case '-[VectorAccelerateTests.Metal4KernelFusionTests testEncodeAPI]' started.
Test Case '-[VectorAccelerateTests.Metal4KernelFusionTests testEncodeAPI]' passed (0.006 seconds).
Test Suite 'Metal4KernelFusionTests' passed at 2025-12-17 15:01:08.890.
	 Executed 1 test, with 0 failures (0 unexpected) in 0.006 (0.006) seconds
Test Suite 'Metal4ShaderCompilerTests' started at 2025-12-17 15:01:08.890.
Test Case '-[VectorAccelerateTests.Metal4ShaderCompilerTests testCacheInfo]' started.
Test Case '-[VectorAccelerateTests.Metal4ShaderCompilerTests testCacheInfo]' passed (0.001 seconds).
Test Case '-[VectorAccelerateTests.Metal4ShaderCompilerTests testClearCache]' started.
Test Case '-[VectorAccelerateTests.Metal4ShaderCompilerTests testClearCache]' passed (0.001 seconds).
Test Case '-[VectorAccelerateTests.Metal4ShaderCompilerTests testCompileMultiple]' started.
Test Case '-[VectorAccelerateTests.Metal4ShaderCompilerTests testCompileMultiple]' passed (0.001 seconds).
Test Case '-[VectorAccelerateTests.Metal4ShaderCompilerTests testGetPipelineState]' started.
Test Case '-[VectorAccelerateTests.Metal4ShaderCompilerTests testGetPipelineState]' passed (0.001 seconds).
Test Case '-[VectorAccelerateTests.Metal4ShaderCompilerTests testInitialization]' started.
Test Case '-[VectorAccelerateTests.Metal4ShaderCompilerTests testInitialization]' passed (0.000 seconds).
Test Case '-[VectorAccelerateTests.Metal4ShaderCompilerTests testInitializationWithConfiguration]' started.
Test Case '-[VectorAccelerateTests.Metal4ShaderCompilerTests testInitializationWithConfiguration]' passed (0.001 seconds).
Test Case '-[VectorAccelerateTests.Metal4ShaderCompilerTests testLibraryCaching]' started.
Test Case '-[VectorAccelerateTests.Metal4ShaderCompilerTests testLibraryCaching]' passed (0.001 seconds).
Test Case '-[VectorAccelerateTests.Metal4ShaderCompilerTests testMakeFunctionNotFound]' started.
Test Case '-[VectorAccelerateTests.Metal4ShaderCompilerTests testMakeFunctionNotFound]' passed (0.003 seconds).
Test Case '-[VectorAccelerateTests.Metal4ShaderCompilerTests testMakeFunction]' started.
Test Case '-[VectorAccelerateTests.Metal4ShaderCompilerTests testMakeFunction]' passed (0.001 seconds).
Test Case '-[VectorAccelerateTests.Metal4ShaderCompilerTests testMakeLibraryFailure]' started.
Compiler failed to build request
Test Case '-[VectorAccelerateTests.Metal4ShaderCompilerTests testMakeLibraryFailure]' passed (0.011 seconds).
Test Case '-[VectorAccelerateTests.Metal4ShaderCompilerTests testMakeLibraryFromSource]' started.
Test Case '-[VectorAccelerateTests.Metal4ShaderCompilerTests testMakeLibraryFromSource]' passed (0.001 seconds).
Test Case '-[VectorAccelerateTests.Metal4ShaderCompilerTests testResetStatistics]' started.
Test Case '-[VectorAccelerateTests.Metal4ShaderCompilerTests testResetStatistics]' passed (0.104 seconds).
Test Case '-[VectorAccelerateTests.Metal4ShaderCompilerTests testStatistics]' started.
Test Case '-[VectorAccelerateTests.Metal4ShaderCompilerTests testStatistics]' passed (0.001 seconds).
Test Suite 'Metal4ShaderCompilerTests' passed at 2025-12-17 15:01:09.017.
	 Executed 13 tests, with 0 failures (0 unexpected) in 0.125 (0.127) seconds
Test Suite 'Metal4ThreadConfigurationTests' started at 2025-12-17 15:01:09.017.
Test Case '-[VectorAccelerateTests.Metal4ThreadConfigurationTests testAsymmetricWorkload]' started.
Test Case '-[VectorAccelerateTests.Metal4ThreadConfigurationTests testAsymmetricWorkload]' passed (0.015 seconds).
Test Case '-[VectorAccelerateTests.Metal4ThreadConfigurationTests testLargeWorkload]' started.
Test Case '-[VectorAccelerateTests.Metal4ThreadConfigurationTests testLargeWorkload]' passed (0.115 seconds).
Test Case '-[VectorAccelerateTests.Metal4ThreadConfigurationTests testSmallWorkload]' started.
Test Case '-[VectorAccelerateTests.Metal4ThreadConfigurationTests testSmallWorkload]' passed (0.002 seconds).
Test Suite 'Metal4ThreadConfigurationTests' passed at 2025-12-17 15:01:09.150.
	 Executed 3 tests, with 0 failures (0 unexpected) in 0.132 (0.133) seconds
Test Suite 'MetalContextTests' started at 2025-12-17 15:01:09.150.
Test Case '-[VectorAccelerateTests.MetalContextTests testBufferAllocationPerformance]' started.
/Users/goftin/dev/gsuite/VSK/future/VectorAccelerate/Tests/VectorAccelerateTests/MetalContextTests.swift:225: Test Case '-[VectorAccelerateTests.MetalContextTests testBufferAllocationPerformance]' measured [Time, seconds] average: 0.000, relative standard deviation: 62.525%, values: [0.000013, 0.000006, 0.000003, 0.000003, 0.000005, 0.000008, 0.000003, 0.000003, 0.000003, 0.000003], performanceMetricID:com.apple.XCTPerformanceMetric_WallClockTime, baselineName: "", baselineAverage: , polarity: prefers smaller, maxPercentRegression: 10.000%, maxPercentRelativeStandardDeviation: 10.000%, maxRegression: 0.100, maxStandardDeviation: 0.100
Test Case '-[VectorAccelerateTests.MetalContextTests testBufferAllocationPerformance]' passed (0.007 seconds).
Test Case '-[VectorAccelerateTests.MetalContextTests testBufferAllocation]' started.
Test Case '-[VectorAccelerateTests.MetalContextTests testBufferAllocation]' passed (0.008 seconds).
Test Case '-[VectorAccelerateTests.MetalContextTests testBufferDataOperations]' started.
Test Case '-[VectorAccelerateTests.MetalContextTests testBufferDataOperations]' passed (0.006 seconds).
Test Case '-[VectorAccelerateTests.MetalContextTests testBufferReuse]' started.
Buffer pool hit rate: 0.5
Memory usage: 4096 / 1073741824
Test Case '-[VectorAccelerateTests.MetalContextTests testBufferReuse]' passed (0.105 seconds).
Test Case '-[VectorAccelerateTests.MetalContextTests testContextFactory]' started.
Test Case '-[VectorAccelerateTests.MetalContextTests testContextFactory]' passed (0.005 seconds).
Test Case '-[VectorAccelerateTests.MetalContextTests testContextInitialization]' started.
Context device: Apple M3 Max, Unified: true
Test Case '-[VectorAccelerateTests.MetalContextTests testContextInitialization]' passed (0.001 seconds).
Test Case '-[VectorAccelerateTests.MetalContextTests testDeviceInitialization]' started.
Device: Apple M3 Max
Unified Memory: true
Metal 3: true
Max Threads: 1024
Test Case '-[VectorAccelerateTests.MetalContextTests testDeviceInitialization]' passed (0.004 seconds).
Test Case '-[VectorAccelerateTests.MetalContextTests testDeviceSelection]' started.
Best device: Apple M3 Max
Default device: Apple M3 Max
Test Case '-[VectorAccelerateTests.MetalContextTests testDeviceSelection]' passed (0.002 seconds).
Test Case '-[VectorAccelerateTests.MetalContextTests testMemoryPressureHandling]' started.
Allocated buffer 1
Allocated buffer 2
Memory pressure at buffer 3
Test Case '-[VectorAccelerateTests.MetalContextTests testMemoryPressureHandling]' passed (0.104 seconds).
Test Case '-[VectorAccelerateTests.MetalContextTests testMetalAvailability]' started.
Test Case '-[VectorAccelerateTests.MetalContextTests testMetalAvailability]' passed (0.001 seconds).
Test Case '-[VectorAccelerateTests.MetalContextTests testThreadGroupCalculation]' started.
Data: 32 -> Threads: 32 x Groups: 1
Data: 256 -> Threads: 256 x Groups: 1
Data: 1024 -> Threads: 1024 x Groups: 1
Data: 10000 -> Threads: 1024 x Groups: 10
Data: 1000000 -> Threads: 1024 x Groups: 977
Test Case '-[VectorAccelerateTests.MetalContextTests testThreadGroupCalculation]' passed (0.002 seconds).
Test Suite 'MetalContextTests' passed at 2025-12-17 15:01:09.396.
	 Executed 11 tests, with 0 failures (0 unexpected) in 0.244 (0.246) seconds
Test Suite 'MinkowskiDistanceKernelTests' started at 2025-12-17 15:01:09.396.
Test Case '-[VectorAccelerateTests.MinkowskiDistanceKernelTests testChebyshevDistance]' started.
Test Case '-[VectorAccelerateTests.MinkowskiDistanceKernelTests testChebyshevDistance]' passed (0.002 seconds).
Test Case '-[VectorAccelerateTests.MinkowskiDistanceKernelTests testConfigPresets]' started.
Test Case '-[VectorAccelerateTests.MinkowskiDistanceKernelTests testConfigPresets]' passed (0.003 seconds).
Test Case '-[VectorAccelerateTests.MinkowskiDistanceKernelTests testEuclideanDistanceMatrix]' started.
Test Case '-[VectorAccelerateTests.MinkowskiDistanceKernelTests testEuclideanDistanceMatrix]' passed (0.002 seconds).
Test Case '-[VectorAccelerateTests.MinkowskiDistanceKernelTests testEuclideanDistance]' started.
Test Case '-[VectorAccelerateTests.MinkowskiDistanceKernelTests testEuclideanDistance]' passed (0.002 seconds).
Test Case '-[VectorAccelerateTests.MinkowskiDistanceKernelTests testFindNearestNeighbors]' started.
Test Case '-[VectorAccelerateTests.MinkowskiDistanceKernelTests testFindNearestNeighbors]' passed (0.004 seconds).
Test Case '-[VectorAccelerateTests.MinkowskiDistanceKernelTests testFusibleWith]' started.
Test Case '-[VectorAccelerateTests.MinkowskiDistanceKernelTests testFusibleWith]' passed (0.001 seconds).
Test Case '-[VectorAccelerateTests.MinkowskiDistanceKernelTests testManhattanDistanceMatrix]' started.
Test Case '-[VectorAccelerateTests.MinkowskiDistanceKernelTests testManhattanDistanceMatrix]' passed (0.002 seconds).
Test Case '-[VectorAccelerateTests.MinkowskiDistanceKernelTests testManhattanDistance]' started.
Test Case '-[VectorAccelerateTests.MinkowskiDistanceKernelTests testManhattanDistance]' passed (0.007 seconds).
Test Suite 'MinkowskiDistanceKernelTests' passed at 2025-12-17 15:01:09.422.
	 Executed 8 tests, with 0 failures (0 unexpected) in 0.024 (0.026) seconds
Test Suite 'NeuralQuantizationBenchmarkTests' started at 2025-12-17 15:01:09.422.
Test Case '-[VectorAccelerateTests.NeuralQuantizationBenchmarkTests testDecodeFlatVsDecodePerformance]' started.

=== decode() vs decodeFlat() Performance (1000 vectors) ===
decode() (nested [[Float]]):
  Time: 0.80 ms
  Throughput: 1245599 vectors/sec

decodeFlat() (flat [Float]):
  Time: 0.50 ms
  Throughput: 2002532 vectors/sec

Speedup from flat output: 1.61x
Numerical accuracy: max diff = 0.000000
Test Case '-[VectorAccelerateTests.NeuralQuantizationBenchmarkTests testDecodeFlatVsDecodePerformance]' passed (0.540 seconds).
Test Case '-[VectorAccelerateTests.NeuralQuantizationBenchmarkTests testDecodeThreadgroupSizeComparison]' started.

=== Decode Threadgroup Size Comparison (768→128, 1000 vectors) ===
TG Size | Time (ms)  | Throughput (vec/s) | vs Baseline
--------|------------|--------------------|-----------
     32 |       0.85 |            1174793 | baseline
     64 |       0.67 |            1502419 | 1.28x
    128 |       0.65 |            1542250 | 1.31x
    256 |       0.60 |            1675042 | 1.43x
Test Case '-[VectorAccelerateTests.NeuralQuantizationBenchmarkTests testDecodeThreadgroupSizeComparison]' passed (0.462 seconds).
Test Case '-[VectorAccelerateTests.NeuralQuantizationBenchmarkTests testDecodeWithBufferPoolingScaling]' started.

=== Decode Performance with Buffer Pooling ===
Iteration | Time (ms)  | Throughput (vec/s)
----------|------------|-------------------
First     |       0.89 |           1118630
Iter 1    |       0.80 |           1254653
Iter 2    |       0.69 |           1457621
Iter 3    |       0.80 |           1246820
Iter 4    |       0.80 |           1254653
Iter 5    |       0.78 |           1285413
----------|------------|-------------------
Stable avg|       0.81 |           1241929
Test Case '-[VectorAccelerateTests.NeuralQuantizationBenchmarkTests testDecodeWithBufferPoolingScaling]' passed (0.435 seconds).
Test Case '-[VectorAccelerateTests.NeuralQuantizationBenchmarkTests testEncodeDecodeQuality]' started.

=== Neural Quantization Quality (768→128) ===
Vectors: 1000
Compression ratio: 24.0x
MSE: 0.333210
Cosine similarity: 0.0010
Encoding throughput: 88659 vectors/sec
Decoding throughput: 860863 vectors/sec
Test Case '-[VectorAccelerateTests.NeuralQuantizationBenchmarkTests testEncodeDecodeQuality]' passed (0.512 seconds).
Test Case '-[VectorAccelerateTests.NeuralQuantizationBenchmarkTests testEncodingScaling]' started.

=== Neural Encoding Scaling (768→128) ===
Count   | Time (ms)  | Throughput (vec/s)
--------|------------|-------------------
    100 |       5.82 |             17187
    500 |       5.49 |             91062
   1000 |       4.97 |            201044
   5000 |      10.02 |            498837
  10000 |      14.20 |            704026
Test Case '-[VectorAccelerateTests.NeuralQuantizationBenchmarkTests testEncodingScaling]' passed (4.095 seconds).
Test Case '-[VectorAccelerateTests.NeuralQuantizationBenchmarkTests testNeuralEncodingHighCompression]' started.

=== Neural Encoding High Compression (768→64) ===
Vectors: 10000
Avg time: 7.43 ms
Throughput: 1345821 vectors/sec
Compression ratio: 48.0x
Test Case '-[VectorAccelerateTests.NeuralQuantizationBenchmarkTests testNeuralEncodingHighCompression]' passed (2.432 seconds).
Test Case '-[VectorAccelerateTests.NeuralQuantizationBenchmarkTests testNeuralEncodingThroughput768to128]' started.

=== Neural Encoding (768→128) ===
Vectors: 10000
Avg time: 9.50 ms
Throughput: 1052589 vectors/sec
Compression ratio: 24.0x
Test Case '-[VectorAccelerateTests.NeuralQuantizationBenchmarkTests testNeuralEncodingThroughput768to128]' passed (2.513 seconds).
Test Case '-[VectorAccelerateTests.NeuralQuantizationBenchmarkTests testNeuralEncodingThroughputMiniLM]' started.

=== Neural Encoding (384→64 MiniLM) ===
Vectors: 10000
Avg time: 6.06 ms
Throughput: 1651372 vectors/sec
Compression ratio: 24.0x
Test Case '-[VectorAccelerateTests.NeuralQuantizationBenchmarkTests testNeuralEncodingThroughputMiniLM]' passed (1.246 seconds).
Test Case '-[VectorAccelerateTests.NeuralQuantizationBenchmarkTests testTransposedVsNonTransposedDecode]' started.

=== Transposed vs Non-Transposed Decode (768←128, 1000 vectors) ===
Non-transposed (128 threads):
  Time: 0.44 ms
  Throughput: 2268540 vectors/sec

Transposed (coalesced memory):
  Time: 0.33 ms
  Throughput: 3072300 vectors/sec

Speedup from transpose: 1.35x

Numerical accuracy: max diff = 0.000000
Test Case '-[VectorAccelerateTests.NeuralQuantizationBenchmarkTests testTransposedVsNonTransposedDecode]' passed (0.442 seconds).
Test Suite 'NeuralQuantizationBenchmarkTests' passed at 2025-12-17 15:01:22.100.
	 Executed 9 tests, with 0 failures (0 unexpected) in 12.676 (12.679) seconds
Test Suite 'NeuralQuantizationKernelTests' started at 2025-12-17 15:01:22.101.
Test Case '-[VectorAccelerateTests.NeuralQuantizationKernelTests testBalancedConfiguration]' started.
Test Case '-[VectorAccelerateTests.NeuralQuantizationKernelTests testBalancedConfiguration]' passed (0.002 seconds).
Test Case '-[VectorAccelerateTests.NeuralQuantizationKernelTests testBasicEncoding]' started.
Test Case '-[VectorAccelerateTests.NeuralQuantizationKernelTests testBasicEncoding]' passed (0.024 seconds).
Test Case '-[VectorAccelerateTests.NeuralQuantizationKernelTests testDimensionMismatch]' started.
Test Case '-[VectorAccelerateTests.NeuralQuantizationKernelTests testDimensionMismatch]' passed (0.010 seconds).
Test Case '-[VectorAccelerateTests.NeuralQuantizationKernelTests testEmptyInput]' started.
Test Case '-[VectorAccelerateTests.NeuralQuantizationKernelTests testEmptyInput]' passed (0.007 seconds).
Test Case '-[VectorAccelerateTests.NeuralQuantizationKernelTests testEncodeDecode]' started.
Test Case '-[VectorAccelerateTests.NeuralQuantizationKernelTests testEncodeDecode]' passed (0.006 seconds).
Test Case '-[VectorAccelerateTests.NeuralQuantizationKernelTests testEncodeDecodeWithMetrics]' started.
Test Case '-[VectorAccelerateTests.NeuralQuantizationKernelTests testEncodeDecodeWithMetrics]' passed (0.005 seconds).
Test Case '-[VectorAccelerateTests.NeuralQuantizationKernelTests testEncodeWithoutWeights]' started.
Test Case '-[VectorAccelerateTests.NeuralQuantizationKernelTests testEncodeWithoutWeights]' passed (0.001 seconds).
Test Case '-[VectorAccelerateTests.NeuralQuantizationKernelTests testEncodingPerformance]' started.
Neural Quantization Performance:
  Vectors: 1000
  Input dimension: 768
  Latent dimension: 128
  Encoding time: 9.857 ms
  Throughput: 101450 vectors/sec
  Compression ratio: 24.0x
  Output size: 128000 bytes
Test Case '-[VectorAccelerateTests.NeuralQuantizationKernelTests testEncodingPerformance]' passed (0.370 seconds).
Test Case '-[VectorAccelerateTests.NeuralQuantizationKernelTests testHighCompressionEncoding]' started.
Test Case '-[VectorAccelerateTests.NeuralQuantizationKernelTests testHighCompressionEncoding]' passed (0.025 seconds).
Test Case '-[VectorAccelerateTests.NeuralQuantizationKernelTests testKernelInitialization]' started.
Test Case '-[VectorAccelerateTests.NeuralQuantizationKernelTests testKernelInitialization]' passed (0.008 seconds).
Test Case '-[VectorAccelerateTests.NeuralQuantizationKernelTests testLoadWeightsFromArrays]' started.
Test Case '-[VectorAccelerateTests.NeuralQuantizationKernelTests testLoadWeightsFromArrays]' passed (0.004 seconds).
Test Case '-[VectorAccelerateTests.NeuralQuantizationKernelTests testMiniLMConfiguration]' started.
Test Case '-[VectorAccelerateTests.NeuralQuantizationKernelTests testMiniLMConfiguration]' passed (0.002 seconds).
Test Case '-[VectorAccelerateTests.NeuralQuantizationKernelTests testRandomWeightCreation]' started.
Test Case '-[VectorAccelerateTests.NeuralQuantizationKernelTests testRandomWeightCreation]' passed (0.006 seconds).
Test Case '-[VectorAccelerateTests.NeuralQuantizationKernelTests testWeightUnloading]' started.
Test Case '-[VectorAccelerateTests.NeuralQuantizationKernelTests testWeightUnloading]' passed (0.003 seconds).
Test Suite 'NeuralQuantizationKernelTests' passed at 2025-12-17 15:01:22.576.
	 Executed 14 tests, with 0 failures (0 unexpected) in 0.473 (0.475) seconds
Test Suite 'OptimizedKernelsTests' started at 2025-12-17 15:01:22.576.
Test Case '-[VectorAccelerateTests.OptimizedKernelsTests testBatchSIMDKernelsAdded]' started.

Added 3 new batch SIMD kernels:
  - batchCosineSimilaritySIMD
  - batchDotProductSIMD
  - batchEuclideanDistanceSIMD

Expected performance benefits:
  - 4x throughput from SIMD float4 operations
  - Reduced kernel launch overhead for batch operations
  - Optimized memory access patterns
  - Coalesced memory access with proper stride
Test Case '-[VectorAccelerateTests.OptimizedKernelsTests testBatchSIMDKernelsAdded]' passed (0.000 seconds).
Test Case '-[VectorAccelerateTests.OptimizedKernelsTests testNewShadersAdded]' started.
Successfully added 6 new optimized shaders:
  - batchNormalize
  - batchNormalize2D
  - tiled_kmeans_distance
  - find_min_assignment
  - gpu_reduce_centroids
  - combine_partial_centroids
Test Case '-[VectorAccelerateTests.OptimizedKernelsTests testNewShadersAdded]' passed (0.000 seconds).
Test Case '-[VectorAccelerateTests.OptimizedKernelsTests testOptimizationBenefits]' started.

Expected performance improvements:
  gpu_reduce_centroids: 2-3x speedup for centroid updates
  tiled_kmeans_distance: 5-10x speedup for KMeans assignment
  batchNormalize: Parallel normalization vs sequential
Test Case '-[VectorAccelerateTests.OptimizedKernelsTests testOptimizationBenefits]' passed (0.000 seconds).
Test Case '-[VectorAccelerateTests.OptimizedKernelsTests testTilingStrategy]' started.

Tiling parameters for optimal Apple Silicon performance:
  TILE_DIM = 32
  TILE_SIZE_C = 8
  TILE_SIZE_Q = 32
Test Case '-[VectorAccelerateTests.OptimizedKernelsTests testTilingStrategy]' passed (0.000 seconds).
Test Suite 'OptimizedKernelsTests' passed at 2025-12-17 15:01:22.578.
	 Executed 4 tests, with 0 failures (0 unexpected) in 0.001 (0.002) seconds
Test Suite 'ParallelReductionKernelTests' started at 2025-12-17 15:01:22.578.
Test Case '-[VectorAccelerateTests.ParallelReductionKernelTests testArgMax]' started.
Test Case '-[VectorAccelerateTests.ParallelReductionKernelTests testArgMax]' passed (0.006 seconds).
Test Case '-[VectorAccelerateTests.ParallelReductionKernelTests testArgMin]' started.
Test Case '-[VectorAccelerateTests.ParallelReductionKernelTests testArgMin]' passed (0.006 seconds).
Test Case '-[VectorAccelerateTests.ParallelReductionKernelTests testComputeStatistics]' started.
Test Case '-[VectorAccelerateTests.ParallelReductionKernelTests testComputeStatistics]' passed (0.004 seconds).
Test Case '-[VectorAccelerateTests.ParallelReductionKernelTests testMaximum]' started.
Test Case '-[VectorAccelerateTests.ParallelReductionKernelTests testMaximum]' passed (0.003 seconds).
Test Case '-[VectorAccelerateTests.ParallelReductionKernelTests testMinimum]' started.
Test Case '-[VectorAccelerateTests.ParallelReductionKernelTests testMinimum]' passed (0.002 seconds).
Test Case '-[VectorAccelerateTests.ParallelReductionKernelTests testMixedValues]' started.
Test Case '-[VectorAccelerateTests.ParallelReductionKernelTests testMixedValues]' passed (0.002 seconds).
Test Case '-[VectorAccelerateTests.ParallelReductionKernelTests testNegativeValues]' started.
Test Case '-[VectorAccelerateTests.ParallelReductionKernelTests testNegativeValues]' passed (0.004 seconds).
Test Case '-[VectorAccelerateTests.ParallelReductionKernelTests testSingleElement]' started.
Test Case '-[VectorAccelerateTests.ParallelReductionKernelTests testSingleElement]' passed (0.001 seconds).
Test Case '-[VectorAccelerateTests.ParallelReductionKernelTests testSumLargeArray]' started.
Test Case '-[VectorAccelerateTests.ParallelReductionKernelTests testSumLargeArray]' passed (0.003 seconds).
Test Case '-[VectorAccelerateTests.ParallelReductionKernelTests testSum]' started.
Test Case '-[VectorAccelerateTests.ParallelReductionKernelTests testSum]' passed (0.004 seconds).
Test Suite 'ParallelReductionKernelTests' passed at 2025-12-17 15:01:22.615.
	 Executed 10 tests, with 0 failures (0 unexpected) in 0.035 (0.037) seconds
Test Suite 'PerformanceBenchmarks' started at 2025-12-17 15:01:22.616.
Test Case '-[VectorAccelerateTests.PerformanceBenchmarks testBatchInsertPerformance]' started.

=== Batch Insert Benchmark (1000 vectors, 128D) ===
Time: 0.733ms
Throughput: 1364223 vectors/sec
Test Case '-[VectorAccelerateTests.PerformanceBenchmarks testBatchInsertPerformance]' passed (0.047 seconds).
Test Case '-[VectorAccelerateTests.PerformanceBenchmarks testBenchmarkSummary]' started.


╔══════════════════════════════════════════════════════════════╗
║        VectorAccelerate Performance Benchmarks        ║
╠══════════════════════════════════════════════════════════════╣
║ Dim 128: Insert 20362 vec/s | Search   0.58ms ║
║ Dim 768: Insert  4098 vec/s | Search   0.84ms ║
║ IVF (nlist=8, nprobe=2):                   Search   0.23ms ║
╚══════════════════════════════════════════════════════════════╝

Test Case '-[VectorAccelerateTests.PerformanceBenchmarks testBenchmarkSummary]' passed (1.594 seconds).
Test Case '-[VectorAccelerateTests.PerformanceBenchmarks testFlatSearch10K_128D]' started.
Inserting 10000 vectors...
Insert time: 0.42s (24053 vectors/sec)

=== Flat Search Benchmark (10K vectors, 128D) ===
Average: 0.523ms
Median: 0.401ms
QPS: 1912
Test Case '-[VectorAccelerateTests.PerformanceBenchmarks testFlatSearch10K_128D]' passed (0.476 seconds).
Test Case '-[VectorAccelerateTests.PerformanceBenchmarks testFlatSearch10K_768D]' started.
Inserting 10000 vectors (dim=768)...
Insert time: 2.40s

=== Flat Search Benchmark (10K vectors, 768D) ===
Average: 1.567ms
Median: 1.513ms
QPS: 638
Test Case '-[VectorAccelerateTests.PerformanceBenchmarks testFlatSearch10K_768D]' passed (2.494 seconds).
Test Case '-[VectorAccelerateTests.PerformanceBenchmarks testIVFSearch10K_128D]' started.
Inserting 10000 vectors into IVF...
Insert time: 10.39s

=== IVF Search Benchmark (10K vectors, 128D, nlist=32, nprobe=4) ===
Average: 36.678ms
Median: 36.921ms
QPS: 27
Test Case '-[VectorAccelerateTests.PerformanceBenchmarks testIVFSearch10K_128D]' passed (14.250 seconds).
Test Suite 'PerformanceBenchmarks' passed at 2025-12-17 15:01:41.478.
	 Executed 5 tests, with 0 failures (0 unexpected) in 18.861 (18.862) seconds
Test Suite 'Phase2Tests' started at 2025-12-17 15:01:41.478.
Test Case '-[VectorAccelerateTests.Phase2Tests testBatchMatrixVectorMultiply]' started.
⚠️ Failed to precompile legacy matrix shaders: VectorError.operationFailed: Shader compilation failed: Failed to load default library [at VectorAccelerate/MetalDevice.swift:321 in getDefaultLibrary()] - precompileShaders() @ MatrixEngine.swift:113
ℹ️ [Performance] Performance: batchMatrixVectorMultiply took 0.036ms batchSize=2 - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: batchMatrixVectorMultiply took 0.039ms batchSize=2 - logPerformance(_:duration:metadata:) @ Logger.swift:190
Test Case '-[VectorAccelerateTests.Phase2Tests testBatchMatrixVectorMultiply]' passed (0.002 seconds).
Test Case '-[VectorAccelerateTests.Phase2Tests testBatchProcessorParallel]' started.
ℹ️ [Performance] Performance: batchProcess took 0.087ms batchSize=100 - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: batchProcess took 0.090ms batchSize=100 - logPerformance(_:duration:metadata:) @ Logger.swift:190
Test Case '-[VectorAccelerateTests.Phase2Tests testBatchProcessorParallel]' passed (0.002 seconds).
Test Case '-[VectorAccelerateTests.Phase2Tests testBatchProcessorSequential]' started.
ℹ️ [Performance] Performance: batchProcess took 0.005ms batchSize=1 - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: batchProcess took 0.008ms batchSize=1 - logPerformance(_:duration:metadata:) @ Logger.swift:190
Test Case '-[VectorAccelerateTests.Phase2Tests testBatchProcessorSequential]' passed (0.002 seconds).
Test Case '-[VectorAccelerateTests.Phase2Tests testBatchProcessorStreaming]' started.
ℹ️ [Performance] Performance: batchProcess took 0.027ms batchSize=100 - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: batchProcess took 0.031ms batchSize=100 - logPerformance(_:duration:metadata:) @ Logger.swift:190
Test Case '-[VectorAccelerateTests.Phase2Tests testBatchProcessorStreaming]' passed (0.002 seconds).
Test Case '-[VectorAccelerateTests.Phase2Tests testBatchSimilarity]' started.
ℹ️ [Performance] Performance: batchProcess took 0.009ms batchSize=3 - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: batchProcess took 0.012ms batchSize=3 - logPerformance(_:duration:metadata:) @ Logger.swift:190
Test Case '-[VectorAccelerateTests.Phase2Tests testBatchSimilarity]' passed (0.002 seconds).
Test Case '-[VectorAccelerateTests.Phase2Tests testLargeMatrixMultiplication]' started.
⚠️ Failed to precompile legacy matrix shaders: VectorError.operationFailed: Shader compilation failed: Failed to load default library [at VectorAccelerate/MetalDevice.swift:321 in getDefaultLibrary()] - precompileShaders() @ MatrixEngine.swift:113
ℹ️ [Performance] Performance: matrixMultiply took 0.845ms  - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: matrixMultiply took 0.846ms  - logPerformance(_:duration:metadata:) @ Logger.swift:190
Test Case '-[VectorAccelerateTests.Phase2Tests testLargeMatrixMultiplication]' passed (0.003 seconds).
Test Case '-[VectorAccelerateTests.Phase2Tests testMatrixMultiplication]' started.
⚠️ Failed to precompile legacy matrix shaders: VectorError.operationFailed: Shader compilation failed: Failed to load default library [at VectorAccelerate/MetalDevice.swift:321 in getDefaultLibrary()] - precompileShaders() @ MatrixEngine.swift:113
ℹ️ [Performance] Performance: matrixMultiply took 0.004ms  - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: matrixMultiply took 0.006ms  - logPerformance(_:duration:metadata:) @ Logger.swift:190
Test Case '-[VectorAccelerateTests.Phase2Tests testMatrixMultiplication]' passed (0.002 seconds).
Test Case '-[VectorAccelerateTests.Phase2Tests testMatrixPerformance]' started.
⚠️ Failed to precompile legacy matrix shaders: VectorError.operationFailed: Shader compilation failed: Failed to load default library [at VectorAccelerate/MetalDevice.swift:321 in getDefaultLibrary()] - precompileShaders() @ MatrixEngine.swift:113
/Users/goftin/dev/gsuite/VSK/future/VectorAccelerate/Tests/VectorAccelerateTests/Phase2Tests.swift:322: Test Case '-[VectorAccelerateTests.Phase2Tests testMatrixPerformance]' measured [Time, seconds] average: 0.000, relative standard deviation: 48.278%, values: [0.000009, 0.000004, 0.000004, 0.000004, 0.000004, 0.000003, 0.000003, 0.000003, 0.000003, 0.000003], performanceMetricID:com.apple.XCTPerformanceMetric_WallClockTime, baselineName: "", baselineAverage: , polarity: prefers smaller, maxPercentRegression: 10.000%, maxPercentRelativeStandardDeviation: 10.000%, maxRegression: 0.100, maxStandardDeviation: 0.100
Test Case '-[VectorAccelerateTests.Phase2Tests testMatrixPerformance]' passed (0.003 seconds).
Test Case '-[VectorAccelerateTests.Phase2Tests testMatrixTranspose]' started.
⚠️ Failed to precompile legacy matrix shaders: VectorError.operationFailed: Shader compilation failed: Failed to load default library [at VectorAccelerate/MetalDevice.swift:321 in getDefaultLibrary()] - precompileShaders() @ MatrixEngine.swift:113
ℹ️ [Performance] Performance: matrixTranspose took 0.002ms  - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: matrixTranspose took 0.004ms  - logPerformance(_:duration:metadata:) @ Logger.swift:190
Test Case '-[VectorAccelerateTests.Phase2Tests testMatrixTranspose]' passed (0.001 seconds).
Test Case '-[VectorAccelerateTests.Phase2Tests testSIMDBatchDistance]' started.
Test Case '-[VectorAccelerateTests.Phase2Tests testSIMDBatchDistance]' passed (0.001 seconds).
Test Case '-[VectorAccelerateTests.Phase2Tests testSIMDDotProduct]' started.
ℹ️ [Performance] Performance: matrixMultiply took 4.342ms  - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: matrixMultiply took 4.345ms  - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: matrixMultiply took 4.530ms  - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: matrixMultiply took 4.531ms  - logPerformance(_:duration:metadata:) @ Logger.swift:190
Test Case '-[VectorAccelerateTests.Phase2Tests testSIMDDotProduct]' passed (0.001 seconds).
Test Case '-[VectorAccelerateTests.Phase2Tests testSIMDEuclideanDistance]' started.
Test Case '-[VectorAccelerateTests.Phase2Tests testSIMDEuclideanDistance]' passed (0.001 seconds).
Test Case '-[VectorAccelerateTests.Phase2Tests testSIMDMatrixVectorMultiply]' started.
ℹ️ [Performance] Performance: matrixMultiply took 5.906ms  - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: matrixMultiply took 5.906ms  - logPerformance(_:duration:metadata:) @ Logger.swift:190
Test Case '-[VectorAccelerateTests.Phase2Tests testSIMDMatrixVectorMultiply]' passed (0.001 seconds).
Test Case '-[VectorAccelerateTests.Phase2Tests testSIMDNormalize]' started.
ℹ️ [Performance] Performance: matrixMultiply took 6.712ms  - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: matrixMultiply took 6.713ms  - logPerformance(_:duration:metadata:) @ Logger.swift:190
Test Case '-[VectorAccelerateTests.Phase2Tests testSIMDNormalize]' passed (0.001 seconds).
Test Case '-[VectorAccelerateTests.Phase2Tests testSIMDPerformance]' started.
ℹ️ [Performance] Performance: matrixMultiply took 7.707ms  - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: matrixMultiply took 7.708ms  - logPerformance(_:duration:metadata:) @ Logger.swift:190
/Users/goftin/dev/gsuite/VSK/future/VectorAccelerate/Tests/VectorAccelerateTests/Phase2Tests.swift:342: Test Case '-[VectorAccelerateTests.Phase2Tests testSIMDPerformance]' measured [Time, seconds] average: 0.000, relative standard deviation: 32.070%, values: [0.000008, 0.000004, 0.000007, 0.000009, 0.000006, 0.000005, 0.000003, 0.000005, 0.000005, 0.000004], performanceMetricID:com.apple.XCTPerformanceMetric_WallClockTime, baselineName: "", baselineAverage: , polarity: prefers smaller, maxPercentRegression: 10.000%, maxPercentRelativeStandardDeviation: 10.000%, maxRegression: 0.100, maxStandardDeviation: 0.100
ℹ️ [Performance] Performance: matrixMultiply took 8.653ms  - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: matrixMultiply took 8.654ms  - logPerformance(_:duration:metadata:) @ Logger.swift:190
Test Case '-[VectorAccelerateTests.Phase2Tests testSIMDPerformance]' passed (0.002 seconds).
Test Suite 'Phase2Tests' passed at 2025-12-17 15:01:41.504.
	 Executed 15 tests, with 0 failures (0 unexpected) in 0.023 (0.026) seconds
Test Suite 'Phase3Tests' started at 2025-12-17 15:01:41.504.
Test Case '-[VectorAccelerateTests.Phase3Tests testBinaryQuantization]' started.
ℹ️ [Performance] Performance: matrixMultiply took 9.879ms  - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: matrixMultiply took 9.879ms  - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [QuantizationEngine] Initialized QuantizationEngine with method: scalar(bits: 8) - init(configuration:context:) @ QuantizationEngine.swift:92
ℹ️ [Performance] Performance: binaryQuantize took 0.014ms  - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: binaryQuantize took 0.016ms  - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: matrixMultiply took 10.441ms  - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: matrixMultiply took 10.441ms  - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: matrixMultiply took 10.936ms  - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: matrixMultiply took 10.937ms  - logPerformance(_:duration:metadata:) @ Logger.swift:190
Test Case '-[VectorAccelerateTests.Phase3Tests testBinaryQuantization]' passed (0.001 seconds).
ℹ️ [Performance] Performance: matrixMultiply took 11.270ms  - logPerformance(_:duration:metadata:) @ Logger.swift:190
Test Case '-[VectorAccelerateTests.Phase3Tests testProductQuantizationTraining]' started.
ℹ️ [Performance] Performance: matrixMultiply took 11.270ms  - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [QuantizationEngine] Initialized QuantizationEngine with method: scalar(bits: 8) - init(configuration:context:) @ QuantizationEngine.swift:92
ℹ️ [Performance] Performance: trainProductQuantization took 159.924ms codebooks=8, samples=100 - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: trainProductQuantization took 159.930ms codebooks=8, samples=100 - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: productQuantize took 0.241ms  - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: productQuantize took 0.244ms  - logPerformance(_:duration:metadata:) @ Logger.swift:190
Test Case '-[VectorAccelerateTests.Phase3Tests testProductQuantizationTraining]' passed (0.165 seconds).
Test Case '-[VectorAccelerateTests.Phase3Tests testQuantizationPerformance]' started.
ℹ️ [QuantizationEngine] Initialized QuantizationEngine with method: scalar(bits: 8) - init(configuration:context:) @ QuantizationEngine.swift:92
ℹ️ [Performance] Performance: scalarQuantize took 0.282ms bits=8 - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: scalarQuantize took 0.285ms bits=8 - logPerformance(_:duration:metadata:) @ Logger.swift:190
/Users/goftin/dev/gsuite/VSK/future/VectorAccelerate/Tests/VectorAccelerateTests/Phase3Tests.swift:117: Test Case '-[VectorAccelerateTests.Phase3Tests testQuantizationPerformance]' measured [Time, seconds] average: 0.000, relative standard deviation: 64.251%, values: [0.000014, 0.000005, 0.000008, 0.000003, 0.000003, 0.000003, 0.000005, 0.000004, 0.000003, 0.000003], performanceMetricID:com.apple.XCTPerformanceMetric_WallClockTime, baselineName: "", baselineAverage: , polarity: prefers smaller, maxPercentRegression: 10.000%, maxPercentRelativeStandardDeviation: 10.000%, maxRegression: 0.100, maxStandardDeviation: 0.100
ℹ️ [Performance] Performance: scalarQuantize took 0.253ms bits=8 - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: scalarQuantize took 0.256ms bits=8 - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: scalarQuantize took 0.504ms bits=8 - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: scalarQuantize took 0.505ms bits=8 - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: scalarQuantize took 0.771ms bits=8 - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: scalarQuantize took 0.772ms bits=8 - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: scalarQuantize took 1.031ms bits=8 - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: scalarQuantize took 1.035ms bits=8 - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: scalarQuantize took 1.265ms bits=8 - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: scalarQuantize took 1.268ms bits=8 - logPerformance(_:duration:metadata:) @ Logger.swift:190
Test Case '-[VectorAccelerateTests.Phase3Tests testQuantizationPerformance]' passed (0.003 seconds).
ℹ️ [Performance] Performance: scalarQuantize took 1.514ms bits=8 - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: scalarQuantize took 1.517ms bits=8 - logPerformance(_:duration:metadata:) @ Logger.swift:190
Test Case '-[VectorAccelerateTests.Phase3Tests testScalarQuantization4Bit]' started.
ℹ️ [Performance] Performance: scalarQuantize took 1.746ms bits=8 - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: scalarQuantize took 1.749ms bits=8 - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: scalarQuantize took 1.989ms bits=8 - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: scalarQuantize took 1.993ms bits=8 - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: scalarQuantize took 2.217ms bits=8 - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: scalarQuantize took 2.220ms bits=8 - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [QuantizationEngine] Initialized QuantizationEngine with method: scalar(bits: 4) - init(configuration:context:) @ QuantizationEngine.swift:92
ℹ️ [Performance] Performance: scalarQuantize took 0.036ms bits=4 - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: scalarQuantize took 0.039ms bits=4 - logPerformance(_:duration:metadata:) @ Logger.swift:190
Test Case '-[VectorAccelerateTests.Phase3Tests testScalarQuantization4Bit]' passed (0.003 seconds).
Test Case '-[VectorAccelerateTests.Phase3Tests testScalarQuantization8Bit]' started.
ℹ️ [QuantizationEngine] Initialized QuantizationEngine with method: scalar(bits: 8) - init(configuration:context:) @ QuantizationEngine.swift:92
ℹ️ [Performance] Performance: scalarQuantize took 0.008ms bits=8 - logPerformance(_:duration:metadata:) @ Logger.swift:190
ℹ️ [Performance] Performance: scalarQuantize took 0.010ms bits=8 - logPerformance(_:duration:metadata:) @ Logger.swift:190
Test Case '-[VectorAccelerateTests.Phase3Tests testScalarQuantization8Bit]' passed (0.001 seconds).
Test Suite 'Phase3Tests' passed at 2025-12-17 15:01:41.678.
	 Executed 5 tests, with 0 failures (0 unexpected) in 0.173 (0.174) seconds
Test Suite 'Phase4BenchmarkSummaryTests' started at 2025-12-17 15:01:41.678.
Test Case '-[VectorAccelerateTests.Phase4BenchmarkSummaryTests testGenerateBenchmarkSummary]' started.


╔══════════════════════════════════════════════════════════════════╗
║           PHASE 4 ML INTEGRATION BENCHMARK SUMMARY               ║
╠══════════════════════════════════════════════════════════════════╣
║                                                                  ║
║  1. NEURAL QUANTIZATION                                          ║
║  ─────────────────────────────────────────────────────────────── ║
║  Config: 768 → 128 (balanced)                                    ║
║  Compression: 24.0x                                              ║
║  Encode throughput: 75250 vectors/sec                          ║
║  Total round-trip: 170.10 ms                                    ║
║                                                                  ║
║  2. ATTENTION SIMILARITY                                         ║
║  ─────────────────────────────────────────────────────────────── ║
║  Config: 768 → 64 (single-head)                                  ║
║  100 queries × 1000 keys = 100K pairs                          ║
║  Compute time: 26.11 ms                                        ║
║  Throughput: 3830525 pairs/sec                               ║
║                                                                  ║
║  3. MEMORY COMPARISON (1000 vectors, 768D)                       ║
║  ─────────────────────────────────────────────────────────────── ║
║  Original (Float32): 3.07 MB                                  ║
║  Neural Quantized (INT8): 0.13 MB                             ║
║  Memory savings: 95.8%                                        ║
║                                                                  ║
